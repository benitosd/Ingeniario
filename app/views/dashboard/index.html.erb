<div class="container-fluid mt-4">
  <div id="dashboard_content">
    <!-- Cards Resumen -->
    <div class="row">
      <%= render "dashboard/stats_card", 
          title: "Total Items",
          value: @total_items,
          description: "Items registrados",
          bg_color: "secondary" %>
          
      <%= render "dashboard/stats_card", 
          title: "Stocks Activos",
          value: @active_stocks,
          description: "de #{@total_stocks} stocks totales",
          bg_color: "success" %>
          
      <%= render "dashboard/stats_card", 
          title: "Almacenados",
          value: @stocks_in_storage,
          description: "Stocks en almacén",
          icon: "fas fa-box",
          bg_color: "primary",
          link: stocks_path(fq: 'stock_status_ss:in_storage'),
          data: { turbo: false } %>
          
      <%= render "dashboard/stats_card", 
          title: "Asignados",
          value: @stocks_assigned,
          description: "Stocks en uso",
          icon: "fas fa-user-check",
          bg_color: "success",
          link: stocks_path(fq: 'stock_status_ss:assigned'),
          data: { turbo: false } %>

      <%= render "dashboard/stats_card", 
          title: "En Reparación",
          value: @stocks_in_repair,
          description: "Stocks en mantenimiento",
          icon: "fas fa-tools",
          bg_color: "warning",
          link: stocks_path(fq: 'stock_status_ss:en_reparacion'),
          data: { turbo: false } %>

      <%= render "dashboard/stats_card", 
          title: "Rotos",
          value: @stocks_broken,
          description: "Stocks dados de baja",
          icon: "fas fa-ban",
          bg_color: "danger",
          link: stocks_path(fq: 'stock_status_ss:roto'),
          data: { turbo: false } %>
          
      <%= render "dashboard/stats_card", 
          title: "Desaparecidos",
          value: @stocks_missing,
          description: "Stocks no retornados",
          icon: "fas fa-question-circle",
          bg_color: "dark",
          link: stocks_path(fq: 'stock_status_ss:desaparecido'),
          data: { turbo: false } %>
    </div>

    <!-- Gráficos -->
    <div class="row mt-4">
      <div class="col-md-6 mb-4">
        <%= render "dashboard/stock_status_chart", 
            storage: @stocks_in_storage,
            assigned: @stocks_assigned,
            repair: @stocks_in_repair,
            broken: @stocks_broken,
            missing: @stocks_missing %>
      </div>
      <div class="col-md-6 mb-4">
        <%= render "dashboard/warehouse_occupancy" %>
      </div>
    </div>

    <div class="row">
      <div class="col-md-6 mb-4">
        <%= render "dashboard/items_by_family_chart" %>
      </div>
      <div class="col-md-6 mb-4">
        <%= render "dashboard/recent_movements" %>
      </div>
    </div>
  </div>
</div>